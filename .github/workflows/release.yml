name: Validate

on: push

jobs:
  steps:
    - run: codfish/semantic-release-action@v1
      with:
        dry_run: true
        branches: |
          [
            '+([0-9])?(.{+([0-9]),x}).x',
            'master',
            'next',
            'next-major',
            {
              name: 'beta',
              prerelease: true
            },
            {
              name: 'alpha',
              prerelease: true
            }
          ]
        repository_url: https://github.com/codfish/semantic-release-action.git
        tag_format: 'v${version}'
        extends: '@semantic-release/apm-config'
        plugins: |
          ['@semantic-release/commit-analyzer', '@semantic-release/release-notes-generator', '@semantic-release/npm', '@semantic-release/github']
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        NPM_TOKEN: ${{ secrets.NPM_TOKEN }}